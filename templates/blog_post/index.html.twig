{% extends 'base.html.twig' %}

{% block title %}Long Live Doctrine{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        <h2>Author total views by day</h2>

        {% for date, authors in viewsByDay %}
            <h3>{{ date }}</h3>
            {% for author in authors %}
                <p>Author: {{ author.name }}. Total views: <strong>{{ author.totalViews|default(0) }}</strong></p>

                <ul>
                    {% for p in author.blogPosts %}
                        <li>{{ p.title }} ({{ p.views }} views)</li>
                    {% endfor %}
                </ul>
            {% endfor %}
        {% endfor %}
    </div>
{% endblock %}
